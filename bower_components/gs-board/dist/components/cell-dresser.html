<dom-module id="cell-dresser">
  <template>
    <style>
      

      /*# sourceMappingURL=style.css.map */

    </style>


  </template>
  <script>
    Polymer({
      is: 'cell-dresser',
      getImage: function(cell, attire) {
        var _ref;
        return attire != null ? (_ref = attire.rules.filter((function(_this) {
          return function(rule) {
            return _this._doesSatisfyRule(cell, rule);
          };
        })(this))[0]) != null ? _ref.image : void 0 : void 0;
      },
      _doesSatisfyRule: function(cell, rule) {
        var itSatisfies;
        itSatisfies = (function(_this) {
          return function(color) {
            return _this._doesSatisfyQuantity(cell[color], rule.when[color]);
          };
        })(this);
        return ["red", "blue", "green", "black"].reduce((function(_this) {
          return function(previousCondition, color) {
            return previousCondition && itSatisfies(color);
          };
        })(this), true);
      },
      _doesSatisfyQuantity: function(quantity, expectedQuantity) {
        if (quantity == null) {
          quantity = 0;
        }
        switch (expectedQuantity) {
          case "*":
            return true;
          case "+":
            return quantity > 0;
          default:
            return quantity === expectedQuantity;
        }
      }
    });

  </script>
</dom-module>